{
    "ConfigForDevices": {
        "status": "enabled",
        "stop_bits": 1,
        "parity": null,
        "data_bits": 8,
        "flow_control": {
            "xon_xoff": false,
            "rts_cts": false,
            "dsr_dtr": false
        },
        "dtr": false,
        "rts": false
    },
    "Devices": [
        {
            "name": "DeviceA",
            "port": "COM32",
            "baud_rate": 115200
        },
        {
            "name": "DebugA",
            "port": "COM7",
            "baud_rate": 921600,
            "status": "disabled",
            "monitor": true
        }
    ],
    "ConfigForCommands": {
        "status": "enabled",
        "timeout": 3000,
        "concurrent_strategy": "sequential",
        "error_actions": [
            {
                "retry": 1
            }
        ]
    },
    "Commands": [
        {
            "command": "AT+QRST",
            "expected_responses": [
                "OK"
            ],
            "device": "DeviceA",
            "timeout": 3000,
            "success_actions": [
                {
                    "set_status": "disabled"
                },
                {
                    "save": {
                        "device": "DeviceA",
                        "variable": "ap_name",
                        "value": "FCM362K_TEST1"
                    }
                },
                {
                    "save": {
                        "device": "DeviceA",
                        "variable": "ap_password",
                        "value": "12345678"
                    }
                }
            ],
            "order": 1
        },
        {
            "command": "AT+QSTAAPINFORMV",
            "expected_responses": [
                "OK"
            ],
            "device": "DeviceA",
            "order": 1,
            "timeout": 3000
        },
        {
            "command": "AT+QSOFTAP=\"{ap_name}\",\"{ap_password}\",0",
            "expected_responses": [
                "OK"
            ],
            "device": "DeviceA",
            "success_actions": [
                {
                    "set_status": "disabled"
                }
            ],
            "timeout": 4000,
            "order": 2
        },
        {
            "command": "AT+QWEBCFG=1",
            "expected_responses": [
                "OK"
            ],
            "device": "DeviceA",
            "timeout": 2000,
            "order": 3
        },
        {
            "device": "DeviceA",
            "timeout": 2000,
            "order": 4,
            "success_actions": [
                {
                    "wifi_connect": {
                        "ssid": "{ap_name}",
                        "password": "{ap_password}",
                        "timeout": 20
                    }
                }
            ]
        },
        {
            "device": "DeviceA",
            "timeout": 2000,
            "order": 5,
            "success_actions": [
                {
                    "get_wifi_config": {
                        "device_ip": "192.168.88.1",
                        "ssid": "NewMar_wpa2",
                        "password": "12345678"
                    }
                }
            ]
        },
        {
            "command": "AT+QSTAST",
            "expected_responses": [
                "+QSTAST: \"STATION_UP\"",
                "OK"
            ],
            "timeout": 3000,
            "device": "DeviceA",
            "order": 6,
            "success_actions": [
                {
                    "print": "Skipping 120s delay for network configuration."
                }
            ],
            "error_actions": []
        },
        {
            "command": "AT+QSTASTOP",
            "expected_responses": [
                "+QSTASTAT: \"WLAN_DISCONNECTED\""
            ],
            "device": "DeviceA",
            "timeout": 4000,
            "order": 7,
            "success_actions": [
                {
                    "print": "Network configuration completed successfully."
                }
            ]
        },
        {
            "command": "AT+QSTAST",
            "expected_responses": [
                "+QSTAST: \"STATION_DOWN\"",
                "OK"
            ],
            "timeout": 120000,
            "device": "DeviceA",
            "order": 8,
            "success_actions": [
                {
                    "print": "Skipping 120s delay for network configuration."
                }
            ],
            "error_actions": []
        }
    ]
}